<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic tac toe</title>
    <link rel="stylesheet" href="game.css">
</head>
<body>
    
    <div class="main">
        <h1>Tic-Tac-toe</h1>
        <p id="message"> </p>
        <table class="shift">
            <tr>
                <td id="s1" class="Square" onclick="nextMove(this);"></td>
                <td id="s2" class="Square" onclick="nextMove(this);"></td>
                <td id="s3" class="Square" onclick="nextMove(this);"></td>
            </tr>
            <tr>
                <td id="s4" class="Square" onclick="nextMove(this);"></td>
                <td id="s5" class="Square" onclick="nextMove(this);"></td>
                <td id="s6" class="Square" onclick="nextMove(this);"></td>

            </tr>
            <tr>
                <td id="s7" class="Square" onclick="nextMove(this);"></td>
                <td id="s8" class="Square" onclick="nextMove(this);"></td>
                <td id="s9" class="Square" onclick="nextMove(this);"></td>

            </tr>
        </table>
        <button type="button" onclick="startGame()" class="btn">Start New Game</button>
       
    </div><script>function startGame(){
        for(var i=1;i<=9;i++){
            clearBox(i);
        }
    
    document.turn="X";
    if(Math.random()<0.5){
        document.turn="O";
    }
    document.winner=null;
    setMessage(document.turn + " gets to start.");
    document.getElementById("s1").style.color="red";
    document.getElementById("s2").style.color="red";
    document.getElementById("s3").style.color="red";
    document.getElementById("s4").style.color="red";
    document.getElementById("s5").style.color="red";
    document.getElementById("s6").style.color="red";
    document.getElementById("s7").style.color="red";
    document.getElementById("s8").style.color="red";
    document.getElementById("s9").style.color="red";
    }
    function setMessage(msg){
        document.getElementById("message").textContent= msg;
    }
    
    function nextMove(square)
    {
        if(document.winner !=null)
        {
            setMessage(document.winner + " Already Won the Game ");
        }
        else if(square.textContent==""){
            square.textContent=document.turn;
            switchTurn();
        }
        else{
            setMessage("That Square is Already Used.");
        }
    }
    function switchTurn(){
        if(checkForWinner(document.turn)){
            setMessage("Congraltulatiobs "+ document.turn+"! You Won!");
            document.winner=document.turn;
        }
        else if(CheckforTie()){
            setMessage("Its a TIE..!! Play again...!!!");
        }
        else if(document.turn=="X"){
            document.turn="O";
            setMessage("It's " + document.turn + "'s turn!");
        }
        else{
            document.turn="X";
            setMessage("It's " + document.turn+"'s turn");
        }
    }
    function checkForWinner(move){
        var result =false;
        if(checkRow(1,2,3,move)||checkRow(4,5,6,move)||checkRow(7,8,9,move)||checkRow(1,4,7,move)||checkRow(2,5,8,move)||checkRow(3,6,9,move)||checkRow(1,5,9,move)||checkRow(3,5,7,move)){
            result=true;
        }return result;
    }
    function checkRow(a,b,c,move){
        var result=false;
        if(getBox(a)==move && getBox(b)==move && getBox(c)==move){
           result=true; 
        }return result;
    }
    
    function getBox(number){
        return document.getElementById("s"+number).textContent;
    }
    function clearBox(number){
        document.getElementById("s"+number).textContent="";
    }
    function CheckforTie(){
        for(var i=1;i<10;i++){
            if(getBox(i)=="") 
            return false
    
        }return true;
    }</script>
    
</body>
</html>